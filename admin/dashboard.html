<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Forexter Network</title>
    <link rel="stylesheet" href="../css/admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="admin-page">
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="header-left">
            <button class="btn-menu" id="adminSidebarToggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="admin-brand">
                <img src="https://files.catbox.moe/pvnz0v.jpg" alt="Logo" class="admin-logo">
                <div>
                    <h1>Forexter Admin</h1>
                    <p id="adminGreeting">Welcome, Admin!</p>
                </div>
            </div>
        </div>
        
        <div class="header-right">
            <div class="admin-notifications">
                <button class="btn-icon" id="notificationBtn">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">3</span>
                </button>
                <div class="notification-dropdown" id="notificationDropdown">
                    <div class="notification-header">
                        <h4>Notifications</h4>
                        <button class="btn-clear" onclick="clearNotifications()">Clear All</button>
                    </div>
                    <div class="notification-list" id="notificationList">
                        <!-- Notifications will appear here -->
                    </div>
                </div>
            </div>
            
            <div class="admin-profile">
                <div class="profile-dropdown">
                    <button class="btn-profile">
                        <img src="https://ui-avatars.com/api/?name=Admin&background=7289da" alt="Admin">
                        <span id="adminUsername">Admin</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-menu">
                        <a href="#" onclick="viewProfile()">
                            <i class="fas fa-user"></i> My Profile
                        </a>
                        <a href="settings.html">
                            <i class="fas fa-cog"></i> Settings
                        </a>
                        <a href="#" onclick="adminLogout()">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Admin Sidebar -->
    <aside class="admin-sidebar" id="adminSidebar">
        <nav class="sidebar-nav">
            <div class="sidebar-header">
                <h3><i class="fas fa-tachometer-alt"></i> Dashboard</h3>
            </div>
            
            <ul class="nav-menu">
                <li class="nav-item active">
                    <a href="dashboard.html">
                        <i class="fas fa-home"></i>
                        <span>Overview</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="#users" onclick="showSection('users')">
                        <i class="fas fa-users"></i>
                        <span>Users Management</span>
                        <span class="nav-badge" id="userCount">0</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="#reports" onclick="showSection('reports')">
                        <i class="fas fa-flag"></i>
                        <span>Reports</span>
                        <span class="nav-badge" id="reportCount">0</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="#community" onclick="showSection('community')">
                        <i class="fas fa-comments"></i>
                        <span>Community</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="#bot" onclick="showSection('bot')">
                        <i class="fas fa-robot"></i>
                        <span>Bot Control</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="#settings" onclick="showSection('settings')">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="#logs" onclick="showSection('logs')">
                        <i class="fas fa-history"></i>
                        <span>Activity Logs</span>
                    </a>
                </li>
                
                <li class="nav-item">
                    <a href="#broadcast" onclick="showSection('broadcast')">
                        <i class="fas fa-bullhorn"></i>
                        <span>Broadcast</span>
                    </a>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <div class="server-status">
                    <h4><i class="fas fa-server"></i> Server Status</h4>
                    <div class="status-item">
                        <span>Chat Server</span>
                        <span class="status-indicator online"></span>
                    </div>
                    <div class="status-item">
                        <span>Bot Status</span>
                        <span class="status-indicator online"></span>
                    </div>
                    <div class="status-item">
                        <span>Database</span>
                        <span class="status-indicator online"></span>
                    </div>
                </div>
            </div>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="admin-main">
        <!-- Overview Section -->
        <section class="dashboard-section active" id="overviewSection">
            <div class="section-header">
                <h2><i class="fas fa-tachometer-alt"></i> Dashboard Overview</h2>
                <p class="section-subtitle">Welcome to Forexter Network Admin Panel</p>
            </div>
            
            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card primary">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalUsersStat">0</h3>
                        <p>Total Users</p>
                    </div>
                    <div class="stat-trend">
                        <i class="fas fa-arrow-up"></i>
                        <span>12% increase</span>
                    </div>
                </div>
                
                <div class="stat-card success">
                    <div class="stat-icon">
                        <i class="fas fa-comment-dots"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalMessagesStat">0</h3>
                        <p>Messages Today</p>
                    </div>
                    <div class="stat-trend">
                        <i class="fas fa-arrow-up"></i>
                        <span>24% increase</span>
                    </div>
                </div>
                
                <div class="stat-card warning">
                    <div class="stat-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="botCommandsStat">0</h3>
                        <p>Bot Commands Used</p>
                    </div>
                    <div class="stat-trend">
                        <i class="fas fa-arrow-up"></i>
                        <span>18% increase</span>
                    </div>
                </div>
                
                <div class="stat-card danger">
                    <div class="stat-icon">
                        <i class="fas fa-flag"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="pendingReportsStat">0</h3>
                        <p>Pending Reports</p>
                    </div>
                    <div class="stat-trend">
                        <i class="fas fa-arrow-down"></i>
                        <span>8% decrease</span>
                    </div>
                </div>
            </div>
            
            <!-- Recent Activity -->
            <div class="dashboard-row">
                <div class="dashboard-col">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-history"></i> Recent Activity</h3>
                        </div>
                        <div class="card-body">
                            <div class="activity-list" id="recentActivity">
                                <!-- Activities will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-col">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-chart-line"></i> Traffic Overview</h3>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="trafficChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="quick-actions">
                <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                <div class="actions-grid">
                    <button class="action-btn" onclick="sendBroadcast()">
                        <i class="fas fa-bullhorn"></i>
                        <span>Send Broadcast</span>
                    </button>
                    
                    <button class="action-btn" onclick="manageUsers()">
                        <i class="fas fa-user-cog"></i>
                        <span>Manage Users</span>
                    </button>
                    
                    <button class="action-btn" onclick="viewReports()">
                        <i class="fas fa-flag"></i>
                        <span>View Reports</span>
                    </button>
                    
                    <button class="action-btn" onclick="botSettings()">
                        <i class="fas fa-robot"></i>
                        <span>Bot Settings</span>
                    </button>
                    
                    <button class="action-btn" onclick="communitySettings()">
                        <i class="fas fa-cogs"></i>
                        <span>Community Settings</span>
                    </button>
                    
                    <button class="action-btn" onclick="backupData()">
                        <i class="fas fa-database"></i>
                        <span>Backup Data</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Users Management Section -->
        <section class="dashboard-section" id="usersSection">
            <div class="section-header">
                <h2><i class="fas fa-users"></i> Users Management</h2>
                <div class="header-actions">
                    <button class="btn-primary" onclick="addUser()">
                        <i class="fas fa-user-plus"></i> Add User
                    </button>
                    <button class="btn-secondary" onclick="exportUsers()">
                        <i class="fas fa-download"></i> Export
                    </button>
                </div>
            </div>
            
            <div class="users-table">
                <div class="table-header">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search users..." id="userSearch">
                    </div>
                    <div class="filter-options">
                        <select id="userFilter">
                            <option value="all">All Users</option>
                            <option value="online">Online</option>
                            <option value="offline">Offline</option>
                            <option value="admin">Admins</option>
                            <option value="member">Members</option>
                        </select>
                    </div>
                </div>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>
                                    <input type="checkbox" id="selectAllUsers">
                                </th>
                                <th>User</th>
                                <th>Status</th>
                                <th>Role</th>
                                <th>Joined</th>
                                <th>Messages</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- Users will be loaded here -->
                        </tbody>
                    </table>
                </div>
                
                <div class="table-footer">
                    <div class="pagination">
                        <button class="page-btn" onclick="prevPage()">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <span class="page-info">Page <span id="currentPage">1</span> of <span id="totalPages">1</span></span>
                        <button class="page-btn" onclick="nextPage()">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="table-actions">
                        <button class="btn-danger" onclick="deleteSelectedUsers()">
                            <i class="fas fa-trash"></i> Delete Selected
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reports Section -->
        <section class="dashboard-section" id="reportsSection">
            <div class="section-header">
                <h2><i class="fas fa-flag"></i> Reports Management</h2>
            </div>
            
            <div class="reports-container">
                <div class="reports-stats">
                    <div class="report-stat pending">
                        <h3 id="pendingReports">0</h3>
                        <p>Pending</p>
                    </div>
                    <div class="report-stat reviewed">
                        <h3 id="reviewedReports">0</h3>
                        <p>Reviewed</p>
                    </div>
                    <div class="report-stat resolved">
                        <h3 id="resolvedReports">0</h3>
                        <p>Resolved</p>
                    </div>
                </div>
                
                <div class="reports-list" id="reportsList">
                    <!-- Reports will be loaded here -->
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    
    <!-- Broadcast Modal -->
    <div class="modal" id="broadcastModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-bullhorn"></i> Send Broadcast</h3>
                <button class="modal-close" onclick="closeModal('broadcastModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="broadcast-form">
                    <div class="form-group">
                        <label for="broadcastType">Broadcast To</label>
                        <select id="broadcastType">
                            <option value="all">All Users</option>
                            <option value="online">Online Users</option>
                            <option value="admins">Admins Only</option>
                            <option value="specific">Specific Users</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="broadcastMessage">Message</label>
                        <textarea 
                            id="broadcastMessage" 
                            placeholder="Enter your broadcast message..."
                            rows="4"
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Message Type</label>
                        <div class="message-type">
                            <label class="radio-label">
                                <input type="radio" name="messageType" value="text" checked>
                                <span>Text Only</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="messageType" value="announcement">
                                <span>Announcement</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="messageType" value="warning">
                                <span>Warning</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="broadcastAttachments">Attachments (Optional)</label>
                        <input type="file" id="broadcastAttachments" multiple>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('broadcastModal')">Cancel</button>
                <button class="btn-primary" onclick="sendBroadcastMessage()">
                    <i class="fas fa-paper-plane"></i> Send Broadcast
                </button>
            </div>
        </div>
    </div>

    <!-- Add User Modal -->
    <div class="modal" id="addUserModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-user-plus"></i> Add New User</h3>
                <button class="modal-close" onclick="closeModal('addUserModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="user-form">
                    <div class="form-group">
                        <label for="newUsername">Username</label>
                        <input type="text" id="newUsername" placeholder="Enter username">
                    </div>
                    
                    <div class="form-group">
                        <label for="newEmail">Email (Optional)</label>
                        <input type="email" id="newEmail" placeholder="Enter email">
                    </div>
                    
                    <div class="form-group">
                        <label for="newRole">Role</label>
                        <select id="newRole">
                            <option value="member">Member</option>
                            <option value="admin">Admin</option>
                            <option value="moderator">Moderator</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="newPermissions">Permissions</label>
                        <div class="permissions-grid">
                            <label class="checkbox-label">
                                <input type="checkbox" name="permissions" value="chat">
                                <span>Can Chat</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="permissions" value="upload">
                                <span>Can Upload</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="permissions" value="report">
                                <span>Can Report</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="permissions" value="invite">
                                <span>Can Invite</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeModal('addUserModal')">Cancel</button>
                <button class="btn-primary" onclick="saveNewUser()">
                    <i class="fas fa-save"></i> Save User
                </button>
            </div>
        </div>
    </div>

    <script src="../js/admin.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>
